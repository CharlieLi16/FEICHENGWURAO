---
description: Asset Skeleton Pattern - é¢„è®¾ç´ æè·¯å¾„ï¼Œç”¨æˆ·ä¸Šä¼ å³ç”Ÿæ•ˆ
globs: 
alwaysApply: false
---

# Asset Skeleton æ¨¡å¼

å½“ç”¨æˆ·è¦æ±‚æ·»åŠ å›¾æ ‡ã€éŸ³æ•ˆã€å›¾ç‰‡ã€è§†é¢‘ç­‰é™æ€ç´ ææ—¶ï¼Œä½¿ç”¨ **Skeleton æ¨¡å¼**ï¼šé¢„å…ˆåœ¨ä»£ç ä¸­å®šä¹‰æ‰€æœ‰ç´ æè·¯å¾„å’Œè§¦å‘ç‚¹ï¼Œç”¨æˆ·åªéœ€ä¸Šä¼ å¯¹åº”æ–‡ä»¶åçš„ç´ æå³å¯è‡ªåŠ¨ç”Ÿæ•ˆã€‚

## æ ¸å¿ƒåŸåˆ™

1. **é¢„å®šä¹‰æ‰€æœ‰è·¯å¾„** - ä»£ç ä¸­é›†ä¸­å®šä¹‰æ‰€æœ‰å¯èƒ½ç”¨åˆ°çš„ç´ æè·¯å¾„
2. **ä¼˜é›…é™çº§** - ç´ ææ–‡ä»¶ç¼ºå¤±æ—¶é™é»˜è·³è¿‡ï¼Œä¸å½±å“åŠŸèƒ½
3. **æ–‡æ¡£é©±åŠ¨** - æ¯ä¸ªç´ ææ–‡ä»¶å¤¹å¿…é¡»æœ‰ README è¯´æ˜æ–‡ä»¶å‘½åè§„åˆ™
4. **å³æ’å³ç”¨** - ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶åæ— éœ€æ”¹ä»£ç ï¼Œåˆ·æ–°å³ç”Ÿæ•ˆ

## å®ç°æ­¥éª¤

### 1. åˆ›å»ºç´ æå®šä¹‰æ–‡ä»¶

åœ¨ `lib/` æˆ– `hooks/` ä¸‹åˆ›å»ºé›†ä¸­å®šä¹‰ï¼š

```typescript
// ç¤ºä¾‹ï¼šéŸ³æ•ˆå®šä¹‰
export const SOUNDS = {
  click: '/assets/sounds/click.mp3',
  success: '/assets/sounds/success.mp3',
  error: '/assets/sounds/error.mp3',
} as const;

export type SoundName = keyof typeof SOUNDS;
```

```typescript
// ç¤ºä¾‹ï¼šå›¾æ ‡å®šä¹‰
export const ICONS = {
  logo: '/assets/icons/logo.svg',
  user: '/assets/icons/user.svg',
  settings: '/assets/icons/settings.svg',
} as const;
```

### 2. å®ç°ä¼˜é›…é™çº§

```typescript
// éŸ³æ•ˆï¼šé™é»˜å¤±è´¥
const playSound = (name: SoundName) => {
  try {
    const audio = new Audio(SOUNDS[name]);
    audio.play().catch(() => {}); // é™é»˜å¤±è´¥
  } catch {}
};

// å›¾ç‰‡ï¼šä½¿ç”¨ onError å›é€€
<img 
  src={ICONS.logo} 
  onError={(e) => e.currentTarget.style.display = 'none'}
/>

// æˆ–ä½¿ç”¨ Next.js Image ç»„ä»¶çš„ placeholder
<Image src={path} placeholder="blur" blurDataURL={fallback} />
```

### 3. åˆ›å»º README æ–‡æ¡£

æ¯ä¸ªç´ ææ–‡ä»¶å¤¹å¿…é¡»åŒ…å« `README.md`ï¼š

```markdown
# [ç´ æç±»å‹] ç´ ææ–‡ä»¶å¤¹

> **Skeleton æ¨¡å¼**: æŒ‰ç…§ä¸‹è¡¨å‘½åæ–‡ä»¶ï¼Œæ”¾å…¥æ­¤æ–‡ä»¶å¤¹å³å¯è‡ªåŠ¨ç”Ÿæ•ˆï¼

## æ–‡ä»¶æ¸…å•

| æ–‡ä»¶å | ç”¨é€” | æ ¼å¼ | çŠ¶æ€ |
|--------|------|------|------|
| `example.mp3` | ç¤ºä¾‹éŸ³æ•ˆ | MP3 | ğŸ”œ å¾…ä¸Šä¼  |

## æ ¼å¼è¦æ±‚

- æ¨èæ ¼å¼ï¼šXXX
- æ–‡ä»¶å¤§å°ï¼š< XXX KB
- æ³¨æ„äº‹é¡¹ï¼šXXX

## è·å–èµ„æº

æ¨èç½‘ç«™ï¼š
- [ç½‘ç«™1](url)
- [ç½‘ç«™2](url)
```

### 4. æ–‡ä»¶å¤¹ç»“æ„

```
public/assets/
â”œâ”€â”€ icons/
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ logo.svg
â”‚   â””â”€â”€ user.svg
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ README.md
â”‚   â””â”€â”€ background.jpg
â”œâ”€â”€ sounds/
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ click.mp3
â”‚   â””â”€â”€ success.mp3
â”œâ”€â”€ videos/
â”‚   â”œâ”€â”€ README.md
â”‚   â””â”€â”€ intro.mp4
â””â”€â”€ fonts/
    â”œâ”€â”€ README.md
    â””â”€â”€ custom.woff2
```

## å¸¸è§ç´ æç±»å‹å¤„ç†

### éŸ³æ•ˆ (Sounds)

```typescript
// hooks/useSound.ts
export const SOUNDS = {
  // UI äº¤äº’
  click: '/assets/sounds/click.mp3',
  hover: '/assets/sounds/hover.mp3',
  
  // çŠ¶æ€åé¦ˆ
  success: '/assets/sounds/success.mp3',
  error: '/assets/sounds/error.mp3',
  warning: '/assets/sounds/warning.mp3',
  
  // é€šçŸ¥
  notification: '/assets/sounds/notification.mp3',
} as const;

export function useSound() {
  const play = useCallback((name: keyof typeof SOUNDS) => {
    try {
      const audio = new Audio(SOUNDS[name]);
      audio.play().catch(() => {});
    } catch {}
  }, []);
  
  return { play, SOUNDS };
}
```

### å›¾æ ‡ (Icons)

```typescript
// lib/icons.ts
export const ICONS = {
  logo: '/assets/icons/logo.svg',
  logoLight: '/assets/icons/logo-light.svg',
  logoDark: '/assets/icons/logo-dark.svg',
} as const;

// ç»„ä»¶ä¸­ä½¿ç”¨
import Image from 'next/image';

export function Logo() {
  return (
    <Image
      src={ICONS.logo}
      alt="Logo"
      width={100}
      height={100}
      onError={(e) => {
        e.currentTarget.src = '/fallback-logo.svg';
      }}
    />
  );
}
```

### èƒŒæ™¯å›¾ç‰‡ (Backgrounds)

```typescript
// lib/backgrounds.ts
export const BACKGROUNDS = {
  hero: '/assets/images/hero-bg.jpg',
  pattern: '/assets/images/pattern.png',
  gradient: '/assets/images/gradient.webp',
} as const;

// CSS ä¸­ä½¿ç”¨ï¼ˆéœ€è¦é…åˆ Tailwindï¼‰
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      backgroundImage: {
        'hero': "url('/assets/images/hero-bg.jpg')",
      }
    }
  }
}
```

### è§†é¢‘ (Videos)

```typescript
// lib/videos.ts
export const VIDEOS = {
  intro: '/assets/videos/intro.mp4',
  tutorial: '/assets/videos/tutorial.mp4',
} as const;

// ç»„ä»¶ä¸­ä½¿ç”¨
export function VideoPlayer({ name }: { name: keyof typeof VIDEOS }) {
  return (
    <video
      src={VIDEOS[name]}
      controls
      onError={(e) => {
        e.currentTarget.style.display = 'none';
      }}
    >
      è§†é¢‘åŠ è½½å¤±è´¥
    </video>
  );
}
```

## README æ¨¡æ¿ç”Ÿæˆ

å½“åˆ›å»ºæ–°çš„ç´ ææ–‡ä»¶å¤¹æ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹æ¨¡æ¿ï¼š

```markdown
# [ç±»å‹] ç´ æ Skeleton

> **Skeleton æ¨¡å¼**: ä»£ç å·²é¢„è®¾å¥½æ‰€æœ‰è·¯å¾„ï¼Œä½ åªéœ€æŒ‰ç…§ä¸‹è¡¨å‘½åæ–‡ä»¶ä¸Šä¼ å³å¯ï¼

## å¿«é€Ÿå¼€å§‹

1. å‡†å¤‡ç´ ææ–‡ä»¶
2. æŒ‰ç…§ä¸‹è¡¨é‡å‘½å
3. æ”¾å…¥æ­¤æ–‡ä»¶å¤¹
4. åˆ·æ–°é¡µé¢ï¼Œè‡ªåŠ¨ç”Ÿæ•ˆï¼

---

## ğŸ“‹ æ–‡ä»¶æ¸…å•

| æ–‡ä»¶å | ç”¨é€” | è‡ªåŠ¨è§¦å‘ | æ ¼å¼ | å»ºè®®å¤§å° |
|--------|------|:--------:|------|----------|
| `example.xxx` | ç¤ºä¾‹ | âœ… | XXX | < XXX KB |

---

## ğŸ“ æ”¯æŒæ ¼å¼

- `.xxx` âœ… æ¨è
- `.yyy` âœ… æ”¯æŒ

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶ååŒºåˆ†å¤§å°å†™**
2. **ç¼ºå¤±æ–‡ä»¶ä¸ä¼šæŠ¥é”™** - ç³»ç»Ÿä¼šé™é»˜è·³è¿‡

---

## ğŸ”„ å½“å‰çŠ¶æ€

| æ–‡ä»¶ | çŠ¶æ€ |
|------|------|
| `example.xxx` | ğŸ”œ å¾…ä¸Šä¼  |
```

## ä½¿ç”¨ç¤ºä¾‹

å½“ç”¨æˆ·è¯´ "æ·»åŠ ä¸€ç»„æŒ‰é’®éŸ³æ•ˆ" æ—¶ï¼š

1. åœ¨ `hooks/useSound.ts` ä¸­é¢„å®šä¹‰ï¼š
```typescript
export const SOUNDS = {
  buttonClick: '/assets/sounds/button-click.mp3',
  buttonHover: '/assets/sounds/button-hover.mp3',
  // ...
};
```

2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š
```typescript
const { play } = useSound();
<button onClick={() => play('buttonClick')}>Click me</button>
```

3. æ›´æ–° `public/assets/sounds/README.md` æ·»åŠ æ–°æ–‡ä»¶è¯´æ˜

4. ç”¨æˆ·åªéœ€ä¸Šä¼  `button-click.mp3` å’Œ `button-hover.mp3` å³å¯ï¼
